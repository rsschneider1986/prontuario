<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
	<title>Cadastro Receita</title>
</h:head>
<h:body>
	<h:form id="formReceita">
		<p:panel header="Cadastro de Receita" style="width:600px">
			<!-- Adicionar mensagens de validação -->
			<p:messages id="messages" showDetail="true" autoUpdate="true" />

			<h:panelGrid columns="2" cellpadding="5">
				<h:outputLabel value="Paciente:" />
				<p:selectOneMenu value="#{receitaBean.pacienteSelected}"
					style="width:300px" converter="pacienteConverter">
					<f:selectItem itemLabel="-- selecione --" itemValue="#{null}" />
					<f:selectItems value="#{receitaBean.pacientesAvailable}" var="p"
						itemValue="#{p}" itemLabel="#{p.nome}" />
				</p:selectOneMenu>

				<h:outputLabel value="Medicamentos:" />
				<p:selectCheckboxMenu value="#{receitaBean.medicamentosSelected}"
					label="Medicamentos" multiple="true">
					<f:selectItems value="#{receitaBean.medicamentosAvailable}" var="m"
						itemValue="#{m}" itemLabel="#{m.nome}" />
					<f:converter converterId="medicamentoConverter" />
				</p:selectCheckboxMenu>


			</h:panelGrid>

			<p:separator />
			<p:commandButton value="Salvar" action="#{receitaBean.salvar}"
				ajax="false" icon="pi pi-save" />			
			<p:commandButton value="Cancelar"
				action="/index.xhtml?faces-redirect=true" immediate="true"
				ajax="false" icon="pi pi-times" />


		</p:panel>
	</h:form>
</h:body>
</html>